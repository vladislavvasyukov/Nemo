{% extends 'core/password_recovery/recovery_base.html' %}

{% load i18n %}

{% block main_content %}
    {% if not request.user.is_authenticated %}
        {% if validlink %}
            <form action="{{ request.path }}" id="recover-confirm" method="post">
                {% csrf_token %}
                <legend>{% trans 'Восстановление пароля' %}</legend>
                <div class="form-group">
                    <label class="col-form-label required" for="new_password1">{% trans 'Введите новый пароль' %}</label>
                    <input type="password" id="new_password1" name="new_password1" required="required" class="form-control-plaintext" />
                </div>
                <div class="form-group">
                    <label class="col-form-label required" for="new_password2">{% trans 'Введите новый пароль еще раз' %}</label>
                    <input type="password" id="new_password2" name="new_password2" required="required" class="form-control-plaintext" />
                </div>
                <div class="form-group row mb-0">
                    <div class="col-sm-6 pl-sm-0"></div>
                    <div class="col-sm-6 pl-sm-1">
                        <input type="submit" class="btn-blue" value="{% trans 'Восстановить' %}">
                    </div>
                </div>
            </form>
        {% else %}
            <div class="alert alert-danger" role="alert">
                {% trans "Ссылка на восстановление пароля - некорректная. Возможно восстановление пароля уже проведено." %}
            </div>
        {% endif %}
    {% else %}
        <p class="error">{% trans "Нельзя восстанавливать пароль, если вы авторизованы." %}</p>
    {% endif %}

{% endblock %}